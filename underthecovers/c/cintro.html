
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>24. Introduction &#8212; Under the Covers</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=2b91c5f0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script type="application/vnd.jupyter.widget-state+json">{"state": {"415e9772e25644da91b3d74bbfe53d59": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": "1px solid black", "border_left": "1px solid black", "border_right": "1px solid black", "border_top": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "100%", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "1ceb79f82947404483ff537b67610cd5": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_415e9772e25644da91b3d74bbfe53d59", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.core.display.Markdown object>", "text/markdown": "<pre style=\"border: solid #cccccc 2px; background-color: black; font-family: monospace, monospace; font-size: inherit; color: white\">\n$ type -p python/opt/conda/bin/python\r\n</pre>"}}], "tabbable": null, "tooltip": null}}, "5e7004daec214455adf4aea2d1ac6292": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": "1px solid black", "border_left": "1px solid black", "border_right": "1px solid black", "border_top": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "100%", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d2c67e5a8699431e80c9730180bb0374": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_5e7004daec214455adf4aea2d1ac6292", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.core.display.Markdown object>", "text/markdown": "<pre style=\"border: solid #cccccc 2px; background-color: black; font-family: monospace, monospace; font-size: inherit; color: white\">\n$ ls -l $(type -p python)lrwxrwxrwx. 1 jovyan root 9 Jul 31 15:37 \u001b[0m\u001b[01;36m/opt/conda/bin/python\u001b[0m -> \u001b[01;32mpython3.9\u001b[0m\r\n</pre>"}}], "tabbable": null, "tooltip": null}}, "496d1d612b9949bf8a35abce82d9811b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": "1px solid black", "border_left": "1px solid black", "border_right": "1px solid black", "border_top": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "100%", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b0f0864dd8d947708469cb8c7ba16c02": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_496d1d612b9949bf8a35abce82d9811b", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.core.display.Markdown object>", "text/markdown": "<pre style=\"border: solid #cccccc 2px; background-color: black; font-family: monospace, monospace; font-size: inherit; color: white\">\n$ ls -l $(type -p python3.9)-rwxrwxr-x. 1 jovyan root 22083544 Jul 31 15:37 \u001b[0m\u001b[01;32m/opt/conda/bin/python3.9\u001b[0m\r\n</pre>"}}], "tabbable": null, "tooltip": null}}, "5be10c7f29ce4371b53f4ea22f9f532d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": "1px solid black", "border_left": "1px solid black", "border_right": "1px solid black", "border_top": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "100%", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "57917a4ba8164bd0ae402b71f4018fdf": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_5be10c7f29ce4371b53f4ea22f9f532d", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.core.display.Markdown object>", "text/markdown": "<pre style=\"border: solid #cccccc 2px; background-color: black; font-family: monospace, monospace; font-size: inherit; color: white\">\n$ file $(type -p python3.9)/opt/conda/bin/python3.9: ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, for GNU/Linux 2.6.18, with debug_info, not stripped\r\n</pre>"}}], "tabbable": null, "tooltip": null}}, "51e14fa654f84b4e902deded2701faba": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": "1px solid black", "border_left": "1px solid black", "border_right": "1px solid black", "border_top": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "100%", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "b7857ca9ff40495ebc4d0a69e9c67aca": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_51e14fa654f84b4e902deded2701faba", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.core.display.Markdown object>", "text/markdown": "<pre style=\"border: solid #cccccc 2px; background-color: black; font-family: monospace, monospace; font-size: inherit; color: white\">\n$ objdump -M intel -d $(type -p python3.9) | head -20\r\n/opt/conda/bin/python3.9:     file format elf64-x86-64\r\n\r\n\r\nDisassembly of section .init:\r\n\r\n000000000005c000 <_init>:\r\n   5c000:\t48 83 ec 08          \tsub    rsp,0x8\r\n   5c004:\te8 5b ef 17 00       \tcall   1daf64 <call_gmon_start>\r\n   5c009:\t48 83 c4 08          \tadd    rsp,0x8\r\n   5c00d:\tc3                   \tret    \r\n\r\nDisassembly of section .plt:\r\n\r\n000000000005c010 <__libc_start_main@plt-0x10>:\r\n   5c010:\tff 35 aa 34 30 00    \tpush   QWORD PTR [rip+0x3034aa]        # 35f4c0 <_GLOBAL_OFFSET_TABLE_+0x8>\r\n   5c016:\tff 25 ac 34 30 00    \tjmp    QWORD PTR [rip+0x3034ac]        # 35f4c8 <_GLOBAL_OFFSET_TABLE_+0x10>\r\n   5c01c:\t0f 1f 40 00          \tnop    DWORD PTR [rax+0x0]\r\n\r\n000000000005c020 <__libc_start_main@plt>:\r\n</pre>"}}], "tabbable": null, "tooltip": null}}, "ba55c9f2730e4f908824827db6c7141a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": "1px solid black", "border_left": "1px solid black", "border_right": "1px solid black", "border_top": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "100%", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c506ea80ebb1481dab658383ce3e441e": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_ba55c9f2730e4f908824827db6c7141a", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {}, "data": {"text/plain": "<IPython.core.display.Markdown object>", "text/markdown": "<pre style=\"border: solid #cccccc 2px; background-color: black; font-family: monospace, monospace; font-size: inherit; color: white\">\n$ echo -e 'set disassembly-flavor intel\nb _start\nrun\ndisass\nquit' | gdb $(type -p python)\u001b[35;1mGNU gdb (GDB) 12.1\u001b[m\r\nCopyright (C) 2022 Free Software Foundation, Inc.\r\nLicense GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>\r\nThis is free software: you are free to change and redistribute it.\r\nThere is NO WARRANTY, to the extent permitted by law.\r\nType \"show copying\" and \"show warranty\" for details.\r\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\r\nType \"show configuration\" for configuration details.\r\nFor bug reporting instructions, please see:\r\n<https://www.gnu.org/software/gdb/bugs/>.\r\nFind the GDB manual and other documentation resources online at:\r\n    <http://www.gnu.org/software/gdb/documentation/>.\r\n\r\nFor help, type \"help\".\r\nType \"apropos word\" to search for commands related to \"word\"...\r\nReading symbols from \u001b[32m/opt/conda/bin/python\u001b[m...\r\n(gdb) (gdb) Breakpoint 1 at \u001b[34m0x1daf38\u001b[m\r\n(gdb) Starting program: \u001b[32m/opt/conda/bin/python\u001b[m \r\nwarning: Error disabling address space randomization: Function not implemented\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"\u001b[32m/lib/x86_64-linux-gnu/libthread_db.so.1\u001b[m\".\r\n\r\nBreakpoint 1, \u001b[34m0x00005573a91c1f38\u001b[m in \u001b[33m_start\u001b[m ()\r\n(gdb) Dump of assembler code for function \u001b[33m_start\u001b[m:\r\n=> \u001b[34m0x00005573a91c1f38\u001b[m <+0>:\txor    ebp,ebp\r\n   \u001b[34m0x00005573a91c1f3a\u001b[m <+2>:\tmov    r9,rdx\r\n   \u001b[34m0x00005573a91c1f3d\u001b[m <+5>:\tpop    rsi\r\n   \u001b[34m0x00005573a91c1f3e\u001b[m <+6>:\tmov    rdx,rsp\r\n   \u001b[34m0x00005573a91c1f41\u001b[m <+9>:\tand    rsp,0xfffffffffffffff0\r\n   \u001b[34m0x00005573a91c1f45\u001b[m <+13>:\tpush   rax\r\n   \u001b[34m0x00005573a91c1f46\u001b[m <+14>:\tpush   rsp\r\n   \u001b[34m0x00005573a91c1f47\u001b[m <+15>:\tlea    r8,[rip+0x8b222]        # \u001b[34m0x5573a924d170\u001b[m <\u001b[33m__libc_csu_fini\u001b[m>\r\n   \u001b[34m0x00005573a91c1f4e\u001b[m <+22>:\tlea    rcx,[rip+0x8b22b]        # \u001b[34m0x5573a924d180\u001b[m <\u001b[33m__libc_csu_init\u001b[m>\r\n   \u001b[34m0x00005573a91c1f55\u001b[m <+29>:\tlea    rdi,[rip+0xb4]        # \u001b[34m0x5573a91c2010\u001b[m <\u001b[33mmain\u001b[m>\r\n   \u001b[34m0x00005573a91c1f5c\u001b[m <+36>:\tcall   \u001b[34m0x5573a9043020\u001b[m <\u001b[33m__libc_start_main@plt\u001b[m>\r\n   \u001b[34m0x00005573a91c1f61\u001b[m <+41>:\thlt    \r\n   \u001b[34m0x00005573a91c1f62\u001b[m <+42>:\tnop\r\n   \u001b[34m0x00005573a91c1f63\u001b[m <+43>:\tnop\r\nEnd of assembler dump.\r\n(gdb) A debugging session is active.\r\n\r\n\tInferior 1 [process 1056] will be killed.\r\n\r\nQuit anyway? (y or n) [answered Y; input not from terminal]\r\n</pre>"}}], "tabbable": null, "tooltip": null}}, "e52c15a1d27747c78604194be768630b": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": "1px solid black", "border_left": "1px solid black", "border_right": "1px solid black", "border_top": "1px solid black", "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": "100%", "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "6c216e719cb0415f9bffab0abd30c299": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_e52c15a1d27747c78604194be768630b", "msg_id": "", "outputs": [{"output_type": "stream", "name": "stdout", "text": "$ ls -lh $(type -p python3.9)\n-rwxrwxr-x. 1 jovyan root 22M Jul 31 15:37 \u001b[0m\u001b[01;32m/opt/conda/bin/python3.9\u001b[0m\r\n$ "}], "tabbable": null, "tooltip": null}}}, "version_major": 2, "version_minor": 0}</script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script crossorigin="anonymous" data-jupyter-widgets-cdn="https://cdn.jsdelivr.net/npm/" src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@1.0.6/dist/embed-amd.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'c/cintro';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="25. BU CS210 Overview" href="../course/specifics.html" />
    <link rel="prev" title="23. Assembly using the OS" href="../assembly/assemblyOS.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../underthecovers_intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Under the Covers - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Under the Covers - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../underthecovers_intro.html">
                    Under the Covers : The Secret Life of Software
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">HOW TO READ THIS BOOK</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../howtoread/chapter.html">How to read this book</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">THE UNIX DEVELOPMENT ENVIRONMENT</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../unix/intro.html">1. Operating Systems and UNIX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/terminal.html">2. What is a Terminal and why do we still use them?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/files.html">3. Organizing and Managing Information as a Tree of Files and Directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/shellintro.html">4. The Shell - Part I: Having an ASCII conversation with the OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/shelldetails.html">5. The Shell - Part II: Some UNIX details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/editors.html">6. Editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/processes.html">7. Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/ides.html">8. IDEs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/make.html">9. Make</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/gitintro.html">10. Intro to Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unix/git.html">11. Git</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">THE BELLY OF THE BEAST: THE VON NEUMMAN ARCHITECTURE AND ASSEMBLY PROGRAMMING</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../assembly/intro.html">12. Introduction: Assembly Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/vonNeumannArchitecture.html">13. The von Neumann Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/UnixAssemblyProgramming.html">14. Executables and Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/Debuggers.html">15. Machine Debuggers &amp; Open Process Surgery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/assembly.html">16. Lets write some assembly code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/InfoRepI.html">17. Representing information - Preliminaries: Bits, Bytes and Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/nativetypes.html">18. Information Representation - Native Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/anatomyI.html">19. Assembly : Program Anatomy I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/anatomyII.html">20. Program Anatomy II : Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/anatomyIII.html">21. Program Anatomy III : Code as Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/anatomyIV.html">22. Program Anatomy IV: The Tree of Bytes and Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assembly/assemblyOS.html">23. Assembly using the OS</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">INTO THE LIGHT: C PROGRAMMING</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">24. Introduction</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">COURSE SPECIFIC MATERIAL</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../course/specifics.html">25. BU CS210 Overview</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://jupyterhub-opf-jupyterhub.apps.smaug.na.operate-first.cloud/hub/user-redirect/git-pull?repo=https%3A//github.com/jappavoo/coursecontenttemplate&urlpath=lab/tree/coursecontenttemplate/content/c/cintro.ipynb&branch=main" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on JupyterHub"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="JupyterHub logo" src="../_static/images/logo_jupyterhub.svg">
  </span>
<span class="btn__text-container">JupyterHub</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/jappavoo/coursecontenttemplate" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jappavoo/coursecontenttemplate/edit/main/content/c/cintro.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/jappavoo/coursecontenttemplate/issues/new?title=Issue%20on%20page%20%2Fc/cintro.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/c/cintro.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Introduction</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downside-the-human-burden-of-assembly-programming-and-programmer-lock-in">24.1. Downside: The human burden of assembly programming and programmer lock in.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downside-the-code-we-write-is-locked-to-a-specific-cpu">24.2. Downside: The code we write is locked to a specific CPU</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downside-the-code-we-write-is-locked-to-a-specific-os">24.3. Downside: The code we write is locked to a specific OS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#high-level-langauges">24.4. High level Langauges</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#but">24.4.1. But …</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-birth-of-c">24.5. The birth of “C”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-as-an-alternative-to-assembly-programming">24.6. C as an alternative to Assembly programming</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-a-life-beyond-unix-os-development">24.7. “C” a life beyond UNIX OS development.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#our-approach-to-c">24.8. Our approach to “C”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries-the-c-compiler-our-very-onw-personal-assembly-programmer">24.9. Preliminaries:  The C Compiler : Our very onw personal assembly programmer</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-toolchain">24.9.1. The ToolChain</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cc1-as-ld">24.10. cc1, as, ld</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compiler-driver-gcc-cc">24.10.1. Compiler driver: gcc/cc</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#controlling-directing-the-compiler">24.11. Controlling / Directing the compiler</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#options">24.11.1. Options</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#optimization-options">24.11.1.1. Optimization options</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#language-options">24.11.1.2. Language options</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#debugger-options">24.11.1.3. Debugger options</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#machine-specific-options">24.11.1.4. Machine Specific options</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#our-focus">24.11.2. Our focus</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">run</span> -i ../python/common.py
<span class="c1">#%run -i ../python/ln_preamble.py</span>
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="introduction">
<h1><span class="section-number">24. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h1>
<p>So now that we have a sense for how programs work and we know how to write assembly code, that is very close to the native language of the computer, let us try and figure out how to ensure that most humans never have to do that!</p>
<p>Understanding how the relationship between the cpu and the values in memory give us the ability to construct computer programs is very powerful.  However, there are many disadvantages to trying to write and develop all our software with tools that only provide a raw binary view of programming.  In particular, the assembler and linker are very powerful but they require us to write a lot of carefully constructed code and to know a lot about the specific cpu and operating system that we what our program to run on.</p>
<section id="downside-the-human-burden-of-assembly-programming-and-programmer-lock-in">
<h2><span class="section-number">24.1. </span>Downside: The human burden of assembly programming and programmer lock in.<a class="headerlink" href="#downside-the-human-burden-of-assembly-programming-and-programmer-lock-in" title="Permalink to this heading">#</a></h2>
<p>Consider how when writing assembly code we can demark any area of memory with a symbolic label and place any byte values we want in that area memory.  While this give us a great deal of freedom and power it also means that we have to make lots of decisions and write lots of carefully constructed assembly just to write a function or layout a data stucture.   For example we are responsible for knowing that one label represents the start of a function while another represents an else condition of an if construct.  Or that another label demarks a single byte that we want to use as a byte sized unsigned integer followed by an area of memory that we want to use as an eight byte signed integer.   Think of all the trouble we might create if we accidentally get confused and use our areas of memory inconsistently in different parts of our program.  For example we accidentally treat the label of the else clause as function by calling it or we directly jump to the function label instead of calling it.  Or perhaps we move a four byte value to the area that we intended to use as a single byte unsigned integer followed an eight byte signed value.  This would likely “corrupt” both the single byte value and the 8 byte value all in one fell swoop.  We could spend days and days trying to figure out why our program seems to do strange things once in a while.  Or worse we never realize it and our code simply one day causes an airplane to crash.</p>
<p>If focsed all ones effort in learning all the nuances of the assembly language of a particular CPU then you have locked yourself into what CPU’s and OS’s you can be productive in.</p>
</section>
<section id="downside-the-code-we-write-is-locked-to-a-specific-cpu">
<h2><span class="section-number">24.2. </span>Downside: The code we write is locked to a specific CPU<a class="headerlink" href="#downside-the-code-we-write-is-locked-to-a-specific-cpu" title="Permalink to this heading">#</a></h2>
<p>Futher when we write assembly code we end up with a program that can only work on a computer that has a cpu that is compatible with the instruction set we wrote our code in.  For example we might write a program to sort numbers in 6502 assembly language.  Unsurprisingly the executable we create cannot be executed on a computer with an Intel X86 processor or one with an ARM AArch64 processor.  But worse the source code, the ascii ‘.S’ files,  of our program cannot be assembled using and X86 or ARM assembler to produce a binary for systems using those processors.  After all the code we wrote specifically identifies 6502 instructions which translate direclty into binary opcodes for the 6502.  The other processor likely don’t have these particular instructions and even if they did they need not translate to the apprropriate opcodes.  However, it is obvious that
not only should it be possible to write a program to sort numbers on all of these computers
the general structure of our program should be the same.  After all, all of these computers are von Neumann computers where they implement a basic processing loop and their instructions and data are represented by bytes in memory.  It would be really nice if we could write our code in a common assembly language and the assemblers for each processor could convert.  Of course this unfortunately might also mean that we could not use instructions that don’t easly have a counter part on each processor.  For example it is easy to see that all of the systems will have instructions for moving values to and from memory to either specific registers and have instructions for conducting addition.  However it is unlikely that they all would have an equivalent of the X86 <code class="docutils literal notranslate"><span class="pre">popcnt</span></code> instruction that calculates the number of one bits in a 64 bit vector and stores the result to a memory location.   So we would need to restrict our genric assembly language to avoid the use of such instructions and of course loose the power of their use.</p>
</section>
<section id="downside-the-code-we-write-is-locked-to-a-specific-os">
<h2><span class="section-number">24.3. </span>Downside: The code we write is locked to a specific OS<a class="headerlink" href="#downside-the-code-we-write-is-locked-to-a-specific-os" title="Permalink to this heading">#</a></h2>
<p>Lastly consider what we had to do in an assembly program to use facilities of the operating system.  We had to explictly know what functions the specific operating system has, what they do, what argument they require, what registers to use to pass the arguments, what they calls return, the cpu specific instructions for call the operating system functions.  Knowing all this we then had to write the CPU specific assembly.  As such our program became speific to both the CPU and OS.  However, again it seems reasonable that most Operating systems will support ways for connecting to a webserver on the internet and sending and receiving bytes from it.  It would be really nice to write code that can run or at least be translated by a tool to run on the particular OS we are using.</p>
</section>
<section id="high-level-langauges">
<h2><span class="section-number">24.4. </span>High level Langauges<a class="headerlink" href="#high-level-langauges" title="Permalink to this heading">#</a></h2>
<p>Now many of us likely have written programs in languages like Python, Java, etc. and have never had any of the issues assocaited with writing assembly code.    So how is this possible if in the end the hardware only can execute instructions and interpret data that are represented as bytes in memory?</p>
<p>These languages do not run natively.  Rather the languages are implememented by software that “translate” or interpret programs written in the language they support.  For example in order to run a Python program you must run an Python executable, A Python Interpreter, that then process your python program.  There is nothing particularly special about the Python Interpreter executable.  It is a binary has been built to execute on your OS and cpu. Just like the executables we built in the prior portion of this book.</p>
<p>As a matter of fact, using our knowledge of UNIX and assembly we can validate this fact for ourselves.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "b7857ca9ff40495ebc4d0a69e9c67aca"}</script></div>
</div>
<p>If we want we can even run it in the debugger</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">TermShellCmd</span><span class="p">(</span><span class="s2">&quot;echo -e &#39;set disassembly-flavor intel</span><span class="se">\n</span><span class="s2">b _start</span><span class="se">\n</span><span class="s2">run</span><span class="se">\n</span><span class="s2">disass</span><span class="se">\n</span><span class="s2">quit&#39; | gdb $(type -p python)&quot;</span><span class="p">,</span> <span class="n">noposttext</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">markdown</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "c506ea80ebb1481dab658383ce3e441e"}</script></div>
</div>
<p>From here, like the programs we wrote, we could single step it and examine how it uses the CPU, memory and the calls it makes to the OS.</p>
<p>The Python interpreter is a native program that reads in python programs as ASCII lines of text and then interprets them according to the Python language definition.</p>
<section id="but">
<h3><span class="section-number">24.4.1. </span>But …<a class="headerlink" href="#but" title="Permalink to this heading">#</a></h3>
<p>Take a look again at how big the python binary is</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">TermShellCmd</span><span class="p">(</span><span class="s2">&quot;ls -lh $(type -p python3.9)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "6c216e719cb0415f9bffab0abd30c299"}</script></div>
</div>
<p>That’s a lot bigger than the programs we wrote in assembly code! Could you imagine writing something that big? Futher could you imagine writing a new version for every computer type and OS pair?  As a matter of fact, it is likely if we did have to do that then we would not even have languages like Python in the first place!</p>
</section>
</section>
<section id="the-birth-of-c">
<h2><span class="section-number">24.5. </span>The birth of “C”<a class="headerlink" href="#the-birth-of-c" title="Permalink to this heading">#</a></h2>
<p>Well as a matter of fact this is precisely the kind of problem that the early inventors of the UNIX operating system were facing. The UNIX kernel is also a very complex program that one would like to have operate on many different types of computers.  For the most part operating system kernels had been largely written in Assembly language for the particular computer the OS was going to run on.  Further to support a new computer the OS had to be carefully rewritten for the new computer’s CPU features, memory organization and devices.  Borrowing from the idea of using high-level languages to implement applications the developers of UNIX choose to evolve the UNIX kernel in a way that would allow much of the system to be portable.  That is to say the work to be done to get the system running on a new computer would not require writing new assembly code for all but a small part of the code.   However, the nature of operating systems code is that it needs to often  manipulate the CPU and memory directly and easily inter-operates with assembly code.  This is in contrast to the high-level languages that were being developed for applications. Those languages largely went out of their way to hide as much of the machine details as possible from the programmer and restrict what could be done in the language. Doing so avoids the need to understand the details of how data and code is represented as binary values in memory and to keep programmers from making various kinds of errors.</p>
<p>What was needed was a programming language that was in-between assembly language and the high-level languages.  Where the new language would not hide the nature of memory from the programmer nor excessively restrict what can be done while still helping to avoid common pitfalls of assembly programming.  Rather the language should precisely let the programmer work with memory but in a way that is more generic and portable than writing code for a particular CPU assembly language.</p>
<p>So the approach taken with the UNIX operating system was to develop a program, that we call a compiler, that could translate source code in this generic machine oriented language to assembly code for the particular computer that was being targeted.   The assembly code the compiler produced can then be treated as input in the the systems assembler and linker.   If much of the OS could be written in this generic language then getting the OS to run on a new computer really meant writing a new compiler for the system and then “re-compile” the OS source with it.  In addition to portability the language would help a programmer  avoid common errors and the need to know the details of every CPU.  I</p>
<p>“C” is the language that was developed by the authors of the UNIX operating system and the program that translates it into assembly is a “C compiler”.</p>
<p>In the above we have liberally shortened and potentially distorted history for the sake of comprehensibility. For a more complete and historically accurate discussion of how the “C” programming language came into being see <a class="reference external" href="https://www.bell-labs.com/usr/dmr/www/chist.html">The Development of the C Language*</a>.</p>
</section>
<section id="c-as-an-alternative-to-assembly-programming">
<h2><span class="section-number">24.6. </span>C as an alternative to Assembly programming<a class="headerlink" href="#c-as-an-alternative-to-assembly-programming" title="Permalink to this heading">#</a></h2>
<p>So how do we maintain the power of assembly programming while also avoiding the downsides?</p>
<p>Almost by definition we must make some trade-offs</p>
</section>
<section id="c-a-life-beyond-unix-os-development">
<h2><span class="section-number">24.7. </span>“C” a life beyond UNIX OS development.<a class="headerlink" href="#c-a-life-beyond-unix-os-development" title="Permalink to this heading">#</a></h2>
<p>This language proved to be so useful its ability to enable expert programmers to write new tools that many of the programs that traditionaly had to be written in assembly language like the high-level application language translators and interpreters were rewritten to C.</p>
</section>
<section id="our-approach-to-c">
<h2><span class="section-number">24.8. </span>Our approach to “C”<a class="headerlink" href="#our-approach-to-c" title="Permalink to this heading">#</a></h2>
<p>We will take an unconventional approach to exploring and learning the “C” programming lanaguge.  Rather than just considering it as a programming language and its attendant syntax we will develop our understanding as we explore how it b</p>
<p>Constructing C from the ground up:</p>
<ul class="simple">
<li><p>organizing our opcode bytes into non-overlapping “callable” units of bytes</p>
<ul>
<li><p>unique label that demarks “entry point”</p></li>
<li><p>all terminating cases end with a return</p></li>
<li><p>fixed convention for passing arguments and general register use between caller and callee</p></li>
<li><p>fixed convention for local variables</p>
<ul>
<li><p>stack frame organization</p></li>
<li><p>freedom to avoid stack and only use registers if possible</p></li>
</ul>
</li>
<li><p>while still supporting the ability to cheat</p></li>
</ul>
</li>
<li><p>organizing and ensuring consistent use of data bytes into data objects (however with the ability to cheat if we want too)</p></li>
<li><p>intrinsic byte oriented objects</p></li>
<li><p>direct support for working with addresses</p>
<ul>
<li><p>exposing the address of data objects</p></li>
<li><p>allowing addresses to be assocaited with a type</p></li>
<li><p>allowing one to create data objects to hold typed addresses</p></li>
</ul>
</li>
<li><p>arrays of intrinisics</p></li>
<li><p>global vs local</p></li>
<li><p>structures and unions</p></li>
<li><p>arrays of structs and unions</p></li>
<li><p>struct and union address types</p></li>
<li><p>Ability to express common flow control idioms</p>
<ul>
<li><p>if then else</p></li>
<li><p>do, while; while; for</p></li>
<li><p>limited ability to demark and jump to labels : goto</p></li>
<li><p>jump tables : switch</p></li>
<li><p>function pointers</p></li>
</ul>
</li>
<li><p>Support for side stepping the rules</p>
<ul>
<li><p>cheating and using and address of a data object in a arbitrary way</p></li>
<li><p>working with an arbitrary address as either data or opcodes</p></li>
<li><p>inserting opcodes directly using assembly syntax</p></li>
</ul>
</li>
<li><p>Using the OS</p></li>
<li><p>More generally idomatic support for easily creating and using libraries of code</p></li>
</ul>
<p>Remember all of what we learnt about assembling and linking still happens “C” is just a step added before these two stages.  Instead of writing <code class="docutils literal notranslate"><span class="pre">.S</span></code> files directly we are writting <code class="docutils literal notranslate"><span class="pre">.C</span></code> that each get translated into an associated <code class="docutils literal notranslate"><span class="pre">.S</span></code> by the compiler which then gets translated into a relocatable object module <code class="docutils literal notranslate"><span class="pre">.o</span></code> which all then get linked into an executable via the linker.  This means our ‘C’ code naturally fits into and extends what we can do the our binary oriented tools versus restricting what we can do.</p>
<p>Compilers also can codify best practices for a particular machine and OS.  After all it has to translate the ‘C’ code into machine and OS specific assembly code.  For the most part however, OS specific differences are handled by use of libraries written to support common functions that are implemented for each OS that is supported.</p>
</section>
<section id="preliminaries-the-c-compiler-our-very-onw-personal-assembly-programmer">
<h2><span class="section-number">24.9. </span>Preliminaries:  The C Compiler : Our very onw personal assembly programmer<a class="headerlink" href="#preliminaries-the-c-compiler-our-very-onw-personal-assembly-programmer" title="Permalink to this heading">#</a></h2>
<section id="the-toolchain">
<h3><span class="section-number">24.9.1. </span>The ToolChain<a class="headerlink" href="#the-toolchain" title="Permalink to this heading">#</a></h3>
</section>
</section>
<section id="cc1-as-ld">
<h2><span class="section-number">24.10. </span>cc1, as, ld<a class="headerlink" href="#cc1-as-ld" title="Permalink to this heading">#</a></h2>
<section id="compiler-driver-gcc-cc">
<h3><span class="section-number">24.10.1. </span>Compiler driver: gcc/cc<a class="headerlink" href="#compiler-driver-gcc-cc" title="Permalink to this heading">#</a></h3>
</section>
</section>
<section id="controlling-directing-the-compiler">
<h2><span class="section-number">24.11. </span>Controlling / Directing the compiler<a class="headerlink" href="#controlling-directing-the-compiler" title="Permalink to this heading">#</a></h2>
<section id="options">
<h3><span class="section-number">24.11.1. </span>Options<a class="headerlink" href="#options" title="Permalink to this heading">#</a></h3>
<section id="optimization-options">
<h4><span class="section-number">24.11.1.1. </span>Optimization options<a class="headerlink" href="#optimization-options" title="Permalink to this heading">#</a></h4>
</section>
<section id="language-options">
<h4><span class="section-number">24.11.1.2. </span>Language options<a class="headerlink" href="#language-options" title="Permalink to this heading">#</a></h4>
</section>
<section id="debugger-options">
<h4><span class="section-number">24.11.1.3. </span>Debugger options<a class="headerlink" href="#debugger-options" title="Permalink to this heading">#</a></h4>
</section>
<section id="machine-specific-options">
<h4><span class="section-number">24.11.1.4. </span>Machine Specific options<a class="headerlink" href="#machine-specific-options" title="Permalink to this heading">#</a></h4>
</section>
</section>
<section id="our-focus">
<h3><span class="section-number">24.11.2. </span>Our focus<a class="headerlink" href="#our-focus" title="Permalink to this heading">#</a></h3>
<p>We will use a set of options that let us focus on understanding the core ability of the compiler to generate assembly code for us.  Specifically we will be focusing on how it translates “C” syntax into assembly code.  We will use a set of options that make it easier to see this relationship by having the compiler avoid adding extra assembly syntax needed for the debugging, or to improve the security of the code it generates.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./c"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../assembly/assemblyOS.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">23. </span>Assembly using the OS</p>
      </div>
    </a>
    <a class="right-next"
       href="../course/specifics.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">25. </span>BU CS210 Overview</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downside-the-human-burden-of-assembly-programming-and-programmer-lock-in">24.1. Downside: The human burden of assembly programming and programmer lock in.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downside-the-code-we-write-is-locked-to-a-specific-cpu">24.2. Downside: The code we write is locked to a specific CPU</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downside-the-code-we-write-is-locked-to-a-specific-os">24.3. Downside: The code we write is locked to a specific OS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#high-level-langauges">24.4. High level Langauges</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#but">24.4.1. But …</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-birth-of-c">24.5. The birth of “C”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-as-an-alternative-to-assembly-programming">24.6. C as an alternative to Assembly programming</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#c-a-life-beyond-unix-os-development">24.7. “C” a life beyond UNIX OS development.</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#our-approach-to-c">24.8. Our approach to “C”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preliminaries-the-c-compiler-our-very-onw-personal-assembly-programmer">24.9. Preliminaries:  The C Compiler : Our very onw personal assembly programmer</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-toolchain">24.9.1. The ToolChain</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cc1-as-ld">24.10. cc1, as, ld</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compiler-driver-gcc-cc">24.10.1. Compiler driver: gcc/cc</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#controlling-directing-the-compiler">24.11. Controlling / Directing the compiler</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#options">24.11.1. Options</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#optimization-options">24.11.1.1. Optimization options</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#language-options">24.11.1.2. Language options</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#debugger-options">24.11.1.3. Debugger options</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#machine-specific-options">24.11.1.4. Machine Specific options</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#our-focus">24.11.2. Our focus</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jonathan Appavoo
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>